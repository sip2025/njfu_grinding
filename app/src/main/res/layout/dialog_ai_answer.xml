<?xml version="1.0" encoding="utf-8"?>
<LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
xmlns:app="http://schemas.android.com/apk/res-auto"
android:layout_width="match_parent"
android:layout_height="wrap_content"
android:orientation="vertical"
android:padding="24dp">
<LinearLayout
android:id="@+id/ai_dialog_header"
android:layout_width="match_parent"
android:layout_height="wrap_content"
android:orientation="horizontal"
android:gravity="center_vertical"
android:layout_marginBottom="16dp"
android:background="?attr/selectableItemBackground">
<TextView
android:layout_width="0dp"
android:layout_height="wrap_content"
android:layout_weight="1"
android:text="@string/ai_ask"
android:textSize="20sp"
android:textStyle="bold"
android:textColor="?android:attr/textColorPrimary" />
<ImageView
android:id="@+id/ai_model_icon"
android:layout_width="20dp"
android:layout_height="20dp"
android:src="@drawable/ic_ai_assistant"
android:layout_marginEnd="6dp"
android:contentDescription="AI模型图标" />
<TextView
android:id="@+id/ai_model_name"
android:layout_width="wrap_content"
android:layout_height="wrap_content"
android:text="AI助手"
android:textSize="12sp"
android:textColor="?android:attr/textColorSecondary" />
<ImageButton
android:id="@+id/ai_refresh_button"
android:layout_width="32dp"
android:layout_height="32dp"
android:layout_marginStart="8dp"
android:background="?attr/selectableItemBackgroundBorderless"
android:src="@android:drawable/ic_menu_rotate"
android:contentDescription="刷新"
app:tint="@color/primary" />
</LinearLayout>
<androidx.core.widget.NestedScrollView
android:id="@+id/ai_scroll_view"
android:layout_width="match_parent"
android:layout_height="0dp"
android:layout_weight="1"
android:maxHeight="400dp"
android:fillViewport="true">
<LinearLayout
android:layout_width="match_parent"
android:layout_height="wrap_content"
android:orientation="vertical">
<ProgressBar
android:id="@+id/ai_progress_bar"
android:layout_width="wrap_content"
android:layout_height="wrap_content"
android:layout_gravity="center"
android:layout_marginTop="32dp"
android:layout_marginBottom="32dp"
android:visibility="gone" />
<TextView
android:id="@+id/ai_thinking_text"
android:layout_width="match_parent"
android:layout_height="wrap_content"
android:text="@string/ai_thinking"
android:textSize="14sp"
android:textColor="?android:attr/textColorSecondary"
android:gravity="center"
android:layout_marginBottom="16dp"
android:visibility="gone" />
<TextView
android:id="@+id/ai_answer_text"
android:layout_width="match_parent"
android:layout_height="wrap_content"
android:textSize="16sp"
android:textColor="?android:attr/textColorPrimary"
android:lineSpacingMultiplier="1.5"
android:visibility="gone" />
<TextView
android:id="@+id/ai_error_text"
android:layout_width="match_parent"
android:layout_height="wrap_content"
android:textSize="14sp"
android:textColor="@color/error"
android:gravity="center"
android:layout_marginTop="16dp"
android:layout_marginBottom="16dp"
android:visibility="gone" />
</LinearLayout>
</androidx.core.widget.NestedScrollView>
<Button
android:id="@+id/ai_close_button"
android:layout_width="match_parent"
android:layout_height="wrap_content"
android:text="@string/cancel"
android:backgroundTint="@color/gray" />
</LinearLayout>